
<script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>#</th>
      <th>Indeks</th>
      <th>Nomi</th>
    </tr>
  </thead>

  <tbody id="sortable-table">
    <tr data-id="1">
      <td>1</td>
      <td>01-01</td>
      <td>Ijro nazorati boâ€˜limi</td>
    </tr>
    <tr data-id="2">
      <td>2</td>
      <td>01-02</td>
      <td>Moliyaviy boâ€˜lim</td>
    </tr>
    <tr data-id="3">
      <td>3</td>
      <td>01-03</td>
      <td>Kadrlar boâ€˜limi</td>
    </tr>
  </tbody>
</table>
<script>
  new Sortable(document.getElementById('sortable-table'), {
    animation: 150,
    ghostClass: 'table-active',

    onEnd: function () {
      let order = [];
      document.querySelectorAll('#sortable-table tr').forEach((row, index) => {
        order.push({
          id: row.dataset.id,
          position: index + 1
        });
      });

      console.log(order);
      // ðŸ‘‰ shu joyda backendga POST qilasiz
    }
  });
</script>
